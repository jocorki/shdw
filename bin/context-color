#!/usr/bin/env python
light_colors = range(1, 8)  # 1..7
dark_colors = range(8, 16) + [0] # 8..15

# unacceptable_colors = [0, 15, 16, 17, 18, 19, 20, 52, 53, 54, 88] + range(232, 256)
# acceptable_colors = [i for i in range(256) if i not in unacceptable_colors]
acceptable_colors = light_colors + dark_colors

def _hash(what):
   return acceptable_colors[hash(str(what)) % len(acceptable_colors)]

if __name__ == '__main__':
    import socket
    import sys
    import getpass

    username = getpass.getuser()
    hostname = socket.gethostname()
    hashstr = '{}@{}'.format(username, hostname)
    bg = _hash(hashstr)
    if bg in light_colors:
        fg = 8
    else:
        fg = 7

    if '--bg-color-only' in sys.argv:
        print 'colour{}'.format(bg)
    elif '--fg-color-only' in sys.argv:
        print 'colour{}'.format(fg)
    else:
        print '#[fg=colour{},bg=colour{}]'.format(fg, bg)
